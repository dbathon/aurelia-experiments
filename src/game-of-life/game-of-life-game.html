<template>
  <h1>Game of Life</h1>
  <div>
    <button click.trigger="toggleRun()">${run ? 'Stop' : 'Run'}</button>
    <button click.trigger="nextState()">Step</button>
    <button click.trigger="randomizeCells(0.5)">Random</button>
    <button click.trigger="randomizeCells(-1)">Clear</button>
  </div>
  <div>
    <label>Size: <input type="range" value.bind="size" min="2" max="150"></label>
    <br>
    <label>Wrap: <input type="checkbox" checked.bind="game.wrapAround"></label>
    <br>
    <label>Delay: <input type="range" value.bind="delay" min="5" max="1000"></label>
    <br>
    <label>Cell size: <input type="range" value.bind="cellSize" min="2" max="15"></label>
    <br>
    <label>Display canvas: <input type="checkbox" checked.bind="displayCanvas"></label>
    <br>
    <label>Display table: <input type="checkbox" checked.bind="displayTable"></label>
  </div>
  <div>size: ${size}, wrap: ${game.wrapAround}, run: ${run}, delay: ${delay}, cellSize: ${cellSize}, gen: ${game.generation}</div>

  <canvas show.bind="displayCanvas" element.ref="canvas" click.delegate="clickCanvas($event)" selectstart.delegate=""></canvas>

  <table if.bind="displayTable" style="border: none;	border-collapse: collapse; empty-cells: show;">
    <tr repeat.for="row of game.cells">
      <td cell.bind="cell" repeat.for="cell of row" click.delegate="click(cell)"
        css="height: ${cellSize - 1}px; width: ${cellSize - 1}px; border: 1px solid lightgray; padding: 0px; background-color: ${cell.alive ? 'red' : 'lightgray'};"></td>
    </tr>
  </table>

</template>